<!doctype html>
<html class="no-js" lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>
    
  Python3学习笔记02 (函数) - TIME TO GO
  
  </title>
  
  
  <link href="atom.xml" rel="alternate" title="TIME TO GO" type="application/atom+xml">
    <link rel="stylesheet" href="asset/css/foundation.min.css" />
    <link rel="stylesheet" href="asset/css/docs.css" />
    <script src="asset/js/vendor/modernizr.js"></script>
    <script src="asset/js/vendor/jquery.js"></script>
  <script src="asset/highlightjs/highlight.pack.js"></script>
  <link href="asset/highlightjs/styles/github.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script>hljs.initHighlightingOnLoad();</script>
<script type="text/javascript">
  function before_search(){
    var searchVal = 'site:www.justisit.com ' + document.getElementById('search_input').value;
    document.getElementById('search_q').value = searchVal;
    return true;
  }
</script>
  </head>
  <body class="antialiased hide-extras">
    
    <div class="marketing off-canvas-wrap" data-offcanvas>
      <div class="inner-wrap">


<nav class="top-bar docs-bar hide-for-small" data-topbar>


  <section class="top-bar-section">
  <div class="row">
      <div style="position: relative;width:100%;"><div style="position: absolute; width:100%;">
        <ul id="main-menu" class="left">
        
        <li id=""><a target="self" href="index.html">Home</a></li>
        
        <li id=""><a target="_self" href="archives.html">Archives</a></li>
        
        </ul>

        <ul class="right" id="search-wrap">
          <li>
<form target="_blank" onsubmit="return before_search();" action="http://google.com/search" method="get">
    <input type="hidden" id="search_q" name="q" value="" />
    <input tabindex="1" type="search" id="search_input"  placeholder="Search"/>
</form>
</li>
          </ul>
      </div></div>
  </div>
  </section>

</nav>

        <nav class="tab-bar show-for-small">
  <a href="javascript:void(0)" class="left-off-canvas-toggle menu-icon">
    <span> &nbsp; TIME TO GO</span>
  </a>
</nav>

<aside class="left-off-canvas-menu">
      <ul class="off-canvas-list">
       
       <li><a href="index.html">HOME</a></li>
    <li><a href="archives.html">Archives</a></li>
    <li><a href="about.html">ABOUT</a></li>

    <li><label>Categories</label></li>

         

      </ul>
    </aside>

<a class="exit-off-canvas" href="#"></a>


        <section id="main-content" role="main" class="scroll-container">
        
       

 <script type="text/javascript">
  $(function(){
    $('#menu_item_index').addClass('is_active');
  });
</script>
<div class="row">
  <div class="large-8 medium-8 columns">
      <div class="markdown-body article-wrap">
       <div class="article">
          
          <h1>Python3学习笔记02 (函数)</h1>
     
        <div class="read-more clearfix">
          <span class="date">2016/5/18</span>

          
           
         
          <span class="comments">
            

            
          </span>

        </div>
      </div><!-- article -->

      <div class="article-content">
      <blockquote>
<p>之前自学的廖雪峰老师的Python3教程的学习笔记，现在整理出来以便回顾。<a href="http://www.liaoxuefeng.com/wiki/0014316089557264a6b348958f449949df42a6d3a2e542c000">廖雪峰老师的Python3教程</a>是非常通俗易懂、强大的，Python3入门的不二之选。在此感谢廖雪峰老师的无私奉献！</p>
</blockquote>

<h2 id="toc_0">03. 函数</h2>

<h4 id="toc_1">基本函数</h4>

<ul>
<li>取绝对值abs()、取最大值max()、min()、sum()，注意传入的参数格式及个数(也可以是一个数组)</li>
<li>类型转换函数，如int()、float()、str()、bool()</li>
<li>函数名是要给指向一个函数对象的引用，可以将函数名赋值给一个变量，相当于给函数起个“别名”，如a = abs; a = &#39;abc&#39;</li>
<li>hex()将一个整数转为十六进制表示的字符串，hex(65) # &#39;0x41&#39;</li>
<li>注意：&#39;\u4e2d&#39;表示16进制Unicode编码（两个字节）所对应的字符，b&#39;\xe4&#39;表示是一个字节（2位16进制），&#39;0x41&#39;表示一个16进制数</li>
</ul>

<span id="more"></span><!-- more -->

<h4 id="toc_2">自定义函数</h4>

<ul>
<li>使用“def”关键字，后面依次是函数名、括号及参数、冒号：，再在下面的缩进块中编写函数体，函数的返回值用return返回</li>
<li><p>若没有return语句也是有返回结果（为None）；“return None”可简写为“return”</p>

<pre><code class="language-python">def my_abs(x):
    if x &gt; 0:
        return x
    else:
        return -x
</code></pre></li>
<li><p>若在交互模式中定义函数，定义结束后需要按两次回车才能回到“&gt;&gt;&gt;”</p></li>
<li><p>若将函数m_abs()定义在myfile.py文件中，则应该在该文件目录下启动python解释器，之后使用from myfile import my_abs语句来导入my_abs函数（注意myfile是不包含.py的文件名）</p></li>
<li><p>空函数：定义一个什么都不做的函数，使用pass语句占位（让程序可以正常运行，否则由于无法识别代码块而报错）</p>

<pre><code class="language-python">def nop():
    pass
</code></pre></li>
<li><p>pass也可以用在其他语句中</p>

<pre><code class="language-python">if age &gt;= 18:
    pass
</code></pre></li>
</ul>

<h4 id="toc_3">参数检查</h4>

<ul>
<li>调用自定义函数时，参数个数不对，python解释器能自动检查出来，参数类型不对，python无法自动检查出来</li>
<li><p>可以使用内置函数isinstance()进行数据类型检查，若传入错误参数则手动抛出一个“错误”</p>

<pre><code class="language-python">def my_abs(x):
    if not isinstance(x, (int, float)):
        raise TypeError(&#39;Bad Type~~~&#39;)
    if x &gt; 0:
        return x
    else:
        return -x
</code></pre></li>
</ul>

<h4 id="toc_4">返回多值</h4>

<ul>
<li>python函数返回的始终是单一值，表面为多值的其实是tuple</li>
<li><p>在语法上，返回一个tuple可以省略括号；多个变量可以同时接收一个tuple，只是按位赋给对应的值</p>

<pre><code class="language-python">import math # 导入math包
def move(x, y, step, angle = 0):
    nx = x + step * math.cos(angle)
    ny = y + step * math.sin(angle)
    return nx, ny

from abstest import move
import math

x, y = move(100, 200, 50, math.pi / 6)
print (x, y) # 143.30127018922195 225.0
r = move(100, 200, 50, math.pi/6)
r # (143.30127018922195, 225.0)
</code></pre></li>
<li><p>练习：解一元二次方程</p>

<pre><code class="language-python">import math
def quadratic(a, b, c):
    if not isinstance(a, (int, float)):
        raise &#39;a参数错误~~~&#39;
    if not isinstance(b, (int, float)):
        raise &#39;b参数错误~~~&#39;
    if not isinstance(c, (int, float)):
        raise &#39;c参数错误~~~&#39;

    dl = b * b - 4 * a * c
    if dl &lt; 0:
        print(&#39;无解~~~&#39;)
        return

    x1 = (-b + math.sqrt(dl)) / 2 * a
    x2 = (-b - math.sqrt(dl)) / 2 * a
    print(&#39;x1 = %f, x2 = %f&#39; % (x1, x2))
    return x1, x2
</code></pre></li>
</ul>

<h4 id="toc_5">函数的参数</h4>

<ul>
<li>位置参数

<ul>
<li>必须传入</li>
</ul></li>
<li>默认参数

<ul>
<li>给位置参数、命名关键字参数添加默认值，简化函数调用</li>
<li>定义时，位置参数在前，默认参数在后；传入调用时，不按定义时参数顺序需提供参数名</li>
<li>默认参数必须是不可变对象，否则可能出现数据错误；（扩展：不可变对象在多任务环境下读取不需要加锁）</li>
</ul></li>
<li>可变参数

<ul>
<li>定义时参数名前加*表示接收任意个参数（可以0个），传入的数据先被自动封装成tuple</li>
<li>在list、tuple、set（dict不可以）前加*表示将其中的元素变为可变参数数据，用于传入使用</li>
</ul></li>
<li>关键字参数

<ul>
<li>有助于扩展函数的功能</li>
<li>定义时参数名前加**表示接收任意个<strong>必须</strong>含有参数名的参数数据(可以0个)，传入数据先被自动封装成dict</li>
<li>在dict前使用**表示将其中的元素变为关键字参数数据，用于传入使用（对新封装的dict的修改不会对原dict产生影响）</li>
<li>传入的参数时参数名不要用“&#39;”括住，否则报错（传入的是变量参数名及值，不是字典，之后才被封装成字典）</li>
</ul></li>
<li>命名关键字参数

<ul>
<li>关键字参数无法限制关键字参数，使用命名关键字参数可以避免此现象</li>
<li>定义时使用“*,”，后面定义必须传入的关键字参数名，*不是参数是特殊分隔符</li>
<li>调用时必须传入定义的关键字参数名及值，否则报错</li>
<li>命名关键字参数也可以使用默认参数，此时调用时可不传入此值</li>
</ul></li>
<li><p>参数组合</p>

<ul>
<li>定义函数时可以使用位置参数、默认参数、可变参数、关键字参数和命名关键字参数，这5种参数可组合使用，但无法混合使用“可变参数”和“命名关键字参数”</li>
<li>参数定义的顺序是：位置参数、默认参数、可变参数/命名关键字参数、关键字参数，调用函数时传入参数顺序在某种情况下可不一致</li>
</ul></li>
<li><p><strong>注意：在调用传入命名关键字参数、关键字参数时，参数名称不要和函数定义时的位置参数、默认参数的名称冲突，否则报错或数据传入的对应位置错误</strong></p>

<pre><code class="language-python">默认参数1:
&gt;&gt;&gt; def enroll(name, gender, age = 6, city=&#39;Beijing&#39;):
...     print(&#39;name:&#39;, name)
...     print(&#39;gender:&#39;, gender)
...     print(&#39;age:&#39;, age)
...     print(&#39;city:&#39;, city)
...
&gt;&gt;&gt; enroll(&#39;Tom&#39;, &#39;F&#39;)
name: Tom
gender: F
age: 6
city: Beijing
&gt;&gt;&gt; enroll(&#39;Tom&#39;, &#39;F&#39;, 7)
name: Tom
gender: F
age: 7
city: Beijing
&gt;&gt;&gt; enroll(&#39;Tom&#39;, &#39;F&#39;, city=&#39;Tianjin&#39;)
name: Tom
gender: F
age: 6
city: Tianjin

默认参数2:（默认参数为可变对象可能导致数据错误）
&gt;&gt;&gt; def add_end(L=[]):
...     L.append(&#39;END&#39;)
...     return L
...
&gt;&gt;&gt; add_end([1, 2, 3])  # L指向新的数组
[1, 2, 3, &#39;END&#39;]
&gt;&gt;&gt; add_end([1, 2, 3])  # L指向新的数组
[1, 2, 3, &#39;END&#39;]
&gt;&gt;&gt; add_end()  # L指向函数定义时系统默认计算出的数组
[&#39;END&#39;]
&gt;&gt;&gt; add_end()  # L指向函数定义时系统默认计算出的数组
[&#39;END&#39;, &#39;END&#39;]

可变参数举例:
&gt;&gt;&gt; def calc(*nums):
...     sum = 0
...     for n in nums:
...             sum += n * n
...     return sum
...
&gt;&gt;&gt; calc(1, 2, 3)
14
&gt;&gt;&gt; calc(1, 2)
5
&gt;&gt;&gt; calc()
0
&gt;&gt;&gt; ns = [1, 2, 3, 4]
&gt;&gt;&gt; calc(ns[0], ns[1], ns[2], ns[3])
30
&gt;&gt;&gt; calc(*ns)
30
&gt;&gt;&gt; s = set([1, 2, 3])
&gt;&gt;&gt; calc(*s)
14

关键字参数:
&gt;&gt;&gt; def person(name, age, **kw):
...     print(&#39;name:&#39;, name, &#39;age:&#39;, age, &#39;other:&#39;, kw)
&gt;&gt;&gt; person(&#39;Tom&#39;, 20, city=&#39;Beijing&#39;, job = &#39;Student&#39;)
name: Tom age: 20 other: {&#39;job&#39;: &#39;Student&#39;, &#39;city&#39;: &#39;Beijing&#39;}
&gt;&gt;&gt; d = {&#39;A&#39;: 1, &#39;B&#39;: 2}
&gt;&gt;&gt; person(&#39;Tom&#39;, 20, A=d[&#39;A&#39;], B=d[&#39;B&#39;]) # 传入的是变量参数名不需要加“”
name: Tom age: 20 other: {&#39;A&#39;: 1, &#39;B&#39;: 2}
&gt;&gt;&gt; person(&#39;Tom&#39;, 20, **d)
name: Tom age: 20 other: {&#39;A&#39;: 1, &#39;B&#39;: 2}

命名关键字参数:
&gt;&gt;&gt; def person(name, age, *, city, job): 
# 必须添加*,否则city、job就是位置参数了，*,后面的参数名都是命名关键字参数的名称
...     print(name, age, city, job)
&gt;&gt;&gt; person(&#39;Tom&#39;, 12, city=&#39;Beijing&#39;, job=&#39;Student&#39;)
Tom 12 Beijing Student
&gt;&gt;&gt; person(&#39;Tom&#39;, 12, city=&#39;Beijing&#39;, haha=&#39;Student&#39;) 
# 报错，TypeError: person() got an unexpected keyword argument &#39;haha&#39;
&gt;&gt;&gt; person(&#39;Tom&#39;, 12, &#39;Beijing&#39;, &#39;Student&#39;)
# 报错，TypeError: person() takes 2 positional arguments but 4 were given

组合参数:
&gt;&gt;&gt; def f1(a, b, c=0, *args, **kw):
...     print(&#39;a =&#39;, a, &#39;b =&#39;, b, &#39;c =&#39;, c, &#39;args =&#39;, args, &#39;kw =&#39;, kw)
...
&gt;&gt;&gt; def f2(a, b, c=0, *, d, **kw):
...     print(&#39;a =&#39;, a, &#39;b =&#39;, b, &#39;c =&#39;, c, &#39;d =&#39;, d, &#39;kw =&#39;, kw)
...
&gt;&gt;&gt;
&gt;&gt;&gt; f1(1, 2, 3)
a = 1 b = 2 c = 3 args = () kw = {}

&gt;&gt;&gt; f1(1, 2, c= 4)
a = 1 b = 2 c = 4 args = () kw = {}

&gt;&gt;&gt; f1(1, 3, 3, 5, d = 4)
a = 1 b = 3 c = 3 args = (5,) kw = {&#39;d&#39;: 4}

&gt;&gt;&gt; f2(1, 2, c = 3, e = 5, d = 4)
a = 1 b = 2 c = 3 d = 4 kw = {&#39;e&#39;: 5}

&gt;&gt;&gt; args = (1, 2, 3)
&gt;&gt;&gt; kw = {&#39;d&#39; : 99, &#39;x&#39; : &#39;#&#39;}
&gt;&gt;&gt; f1(*args, **kw)
a = 1 b = 2 c = 3 args = () kw = {&#39;x&#39;: &#39;#&#39;, &#39;d&#39;: 99}

&gt;&gt;&gt; f2(*args, **kw)
a = 1 b = 2 c = 3 d = 99 kw = {&#39;x&#39;: &#39;#&#39;}
</code></pre></li>
</ul>

<h4 id="toc_6">递归函数</h4>

<ul>
<li>函数内部调用自身</li>
<li>函数调用是通过栈实现的，当进入一个函数调用时，栈就会加一层栈帧，当函数返回时，栈就会减一层栈帧；使用递归函数要防止栈溢出</li>
<li>可以通过“尾递归”解决递归调用栈溢出：在函数返回时，调用自身并且return语句不能包含表达式；这样编译器、解释器就可以将尾递归做优化，使递归无论调用多少次都只占用一个栈帧</li>
<li>多数编程语言没有对尾递归做优化，Python解释器也没有优化</li>
<li><p>可以将循环看成是一种特殊的尾递归函数；尾递归事实上和循环是等价的，没有循环语句的编程语言只能通过尾递归实现循环</p>

<pre><code class="language-python">递归:
def fact(n):
   if n == 1:
       return 1
   return n * fact(n - 1)

尾递归:
def fact(n):
   return fact_iter(n, 1)

def fact_iter(num, product):
   if num == 1:
       return product
   return fact_iter(num - 1, num * product)
</code></pre></li>
<li><p>练习：汉诺塔</p>

<pre><code class="language-python">def move(n, a, b, c):
   if 1 == n:
       print(a, &#39;--&gt;&#39;, c) # 直接将从a移到c
   else:
       move(n - 1, a, c, b) # 先将前n-1个从a移到b
       move(1, a, b, c) # 将最后一个从a移到c
       move(n - 1, b, a, c) # 将前n-1个从b移到c
</code></pre></li>
</ul>


    

      </div>

      <div class="row">
        <div class="large-6 columns">
        <p class="text-left" style="padding:15px 0px;">
      
          <a href="Node.js%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E6%95%99%E7%A8%8B.html" 
          title="Previous Post: Node.js环境搭建教程">&laquo; Node.js环境搭建教程</a>
      
        </p>
        </div>
        <div class="large-6 columns">
      <p class="text-right" style="padding:15px 0px;">
      
          <a  href="Python3%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B001%20(%E7%AE%80%E4%BB%8B%E3%80%81%E5%9F%BA%E7%A1%80).html" 
          title="Next Post: Python3学习笔记01 (简介、基础)">Python3学习笔记01 (简介、基础) &raquo;</a>
      
      </p>
        </div>
      </div>
      <div class="comments-wrap">
        <div class="share-comments">
          

          

          
        </div>
      </div>
    </div><!-- article-wrap -->
  </div><!-- large 8 -->




 <div class="large-4 medium-4 columns">
  <div class="hide-for-small">
    <div id="sidebar" class="sidebar">
          <div id="site-info" class="site-info">
            
                <h1>TIME TO GO</h1>
                <div class="site-des">It is just a matter of time.</div>
                <div class="social">











  <a target="_blank" class="rss" href="atom.xml" title="RSS">RSS</a>
                
              	 </div>
          	</div>

             

              <div id="site-categories" class="side-item ">
                <div class="side-header">
                  <h2>Categories</h2>
                </div>
                <div class="side-content">

      	<p class="cat-list">
         
        </p>


                </div>
              </div>

              <div id="site-categories" class="side-item">
                <div class="side-header">
                  <h2>Recent Posts</h2>
                </div>
                <div class="side-content">
                <ul class="posts-list">
	      
		      
			      <li class="post">
			        <a href="Ruby%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E6%95%99%E7%A8%8B.html">Ruby环境搭建教程</a>
			      </li>
		     
		  
		      
			      <li class="post">
			        <a href="Node.js%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E6%95%99%E7%A8%8B.html">Node.js环境搭建教程</a>
			      </li>
		     
		  
		      
			      <li class="post">
			        <a href="Python3%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B002%20(%E5%87%BD%E6%95%B0).html">Python3学习笔记02 (函数)</a>
			      </li>
		     
		  
		      
			      <li class="post">
			        <a href="Python3%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B001%20(%E7%AE%80%E4%BB%8B%E3%80%81%E5%9F%BA%E7%A1%80).html">Python3学习笔记01 (简介、基础)</a>
			      </li>
		     
		  
		      
			      <li class="post">
			        <a href="Hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E6%95%99%E7%A8%8B.html">Hexo博客搭建使用</a>
			      </li>
		     
		  
		      
		   
		  		</ul>
                </div>
              </div>
        </div><!-- sidebar -->
      </div><!-- hide for small -->
</div><!-- large 4 -->

</div><!-- row -->

 <div class="page-bottom clearfix">
  <div class="row">
   <p class="copyright">Copyright &copy; 2016
Theme used <a target="_blank" href="http://github.com">GitHub CSS</a>.</p>
  </div>
</div>

        </section>
      </div>
    </div>

  
    

    <script src="asset/js/foundation.min.js"></script>
    <script>
      $(document).foundation();
      function fixSidebarHeight(){
        var w1 = $('.markdown-body').height();
          var w2 = $('#sidebar').height();
          if (w1 > w2) { $('#sidebar').height(w1); };
      }
      $(function(){
        fixSidebarHeight();
      })
      $(window).load(function(){
          fixSidebarHeight();
      });
     
    </script>

    



  </body>
</html>
